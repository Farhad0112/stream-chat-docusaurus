---
id: opt-in-architecture
sidebar_position: 3
title: Opt-in architecture
---

In an effort to keep our bundle size small in the long run our SDK uses an architecture where integrators can decide to opt-out of certain costly (in terms of bundle size) features.

The decision to opt-in or opt-out happens when you import the `StreamChatModule`. You can provide your feature configuration in the `forRoot` method. Here is an example:

```typescript
import { NgModule } from "@angular/core";
import { BrowserModule } from "@angular/platform-browser";
import { TranslateModule } from "@ngx-translate/core";

import { AppComponent } from "./app.component";
import { CustomMessageComponent } from "./custom-message/custom-message.component";
import { StreamChatModule, TextareaComponent } from "stream-chat-angular";

@NgModule({
  declarations: [AppComponent, CustomMessageComponent],
  imports: [
    BrowserModule,
    TranslateModule.forRoot(),
    StreamChatModule.forRoot({ textareaType: TextareaComponent }),
  ],
  providers: [],
  bootstrap: [AppComponent],
})
export class AppModule {}
```

The `textareaType` decides what kind of textarea should be used in the message composer, you can choose between the [`AutocompleteTextareaComponent`](../components/autocomplete-textarea.mdx) with mentions or the [`TextareaComponent`](../components/textarea.mdx) that doesn't support mentions, but has a smaller bundle size. Your final application bundle will only include either the `TextareaComponent` or the `AutocompleteTextareaComponent`.

:::important
It's important to note that for technical reasons you always have to explicitly provide either `TextareaComponent` or `AutocompleteTextareaComponent`, if you don't provide anything the message composer won't be working.
:::

## Opt-in features

The list of opt-in features can be found below:

### Textarea

For the textarea inside the [`MessageInputComponent`](../components/message-input.mdx) you can choose between the [`TextareaComponent`](../components/textarea.mdx) or the [`AutocompleteTextareaComponent`](../components/autocomplete-textarea.mdx) component. The table below provides a comparison between the two components:

| Feature       | `TextareaComponent` | `AutocompleteTextareaComponent` |
| ------------- | ------------------- | ------------------------------- |
| User mentions | No                  | Yes                             |
