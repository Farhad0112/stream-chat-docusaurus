---
id: upgrade-v2
title: Upgrade from v2
---

## Peer dependencies

### stream-chat-css

You can drop the `@stream-io/stream-chat-css` dependency because going forward `stream-chat-angular` will encapsulate the library.

Rewrite your stylesheet imports to this:

`~stream-chat-angular/src/assets/styles/scss/index.scss`

Or this if you were using CSS:

`~stream-chat-angular/src/assets/styles/css/index.css`

It's still possible to individually import stylesheets you just have to replace the `~@stream-io/stream-chat-css/dist` prefix with `~stream-chat-angular/src/assets/styles`.

## Inputs removed in favor of channel capabilities

The following inputs are removed:

| Component/service                                                        | Input name                   | Replacement                                                                                                                                                                                                                                                                                       |
| ------------------------------------------------------------------------ | ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`MessageListComponent`](../components/MessageListComponent.mdx)         | `enabledMessageActionsInput` | Use our [permission framework](https://getstream.io/chat/docs/javascript/chat_permission_policies/?language=javascript&q=slow%20mode) to control what actions are available to different users                                                                                                    |
| [`MessageListComponent`](../components/MessageListComponent.mdx)         | `areReactionsEnabled`        | Use our [permission framework](https://getstream.io/chat/docs/javascript/chat_permission_policies/?language=javascript&q=slow%20mode) to control what actions are available to different users                                                                                                    |
| [`MessageInputConfigService`](../services/MessageInputConfigService.mdx) | `acceptedFileTypes`          | Use [application settings](https://getstream.io/chat/docs/javascript/app_setting_overview/?language=javascript#file-uploads) to control the accepted file types                                                                                                                                   |
| [`MessageInputComponent`](../components/MessageInputComponent.mdx)       | `acceptedFileTypes`          | Use [application settings](https://getstream.io/chat/docs/javascript/app_setting_overview/?language=javascript#file-uploads) to control the accepted file types                                                                                                                                   |
| [`MessageComponent`](../components/MessageComponent.mdx)                 | `areReactionsEnabled`        | Use our [permission framework](https://getstream.io/chat/docs/javascript/chat_permission_policies/?language=javascript&q=slow%20mode) to control what actions are available to different users. Please note that existing reactions of a message will be displayed, even if reacting is disabled. |
| [`MessageComponent`](../components/MessageComponent.mdx)                 | `canReactToMessage`          | Use our [permission framework](https://getstream.io/chat/docs/javascript/chat_permission_policies/?language=javascript&q=slow%20mode) to control what actions are available to different users. Please note that existing reactions of a message will be displayed, even if reacting is disabled. |
| [`MessageComponent`](../components/MessageComponent.mdx)                 | `canReceiveReadEvents`       | Use our [permission framework](https://getstream.io/chat/docs/javascript/chat_permission_policies/?language=javascript&q=slow%20mode) to control what actions are available to different users                                                                                                    |

## Centralized customizations

| Description                                                 | Old option                                                      | New option                                                                                          |
| ----------------------------------------------------------- | --------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| The autocomplete list item template for mentioning users    | `AutocompleteTextareaComponent.mentionAutocompleteItemTemplate` | [`CustomTemplatesService.mentionAutocompleteItemTemplate$`](../services/CustomTemplatesService.mdx) |
| The autocomplete list item template for commands            | `AutocompleteTextareaComponent.commandAutocompleteItemTemplate` | [`CustomTemplatesService.commandAutocompleteItemTemplate$`](../services/CustomTemplatesService.mdx) |
| Item in the channel list                                    | `ChannelListComponent.customChannelPreviewTemplate`             | [`CustomTemplatesService.customChannelPreviewTemplate$`](../services/CustomTemplatesService.mdx)    |
| The message input template used when editing a message      | `MessageActionsBoxComponent.messageInputTemplate`               | [`CustomTemplatesService.messageInputTemplate$`](../services/CustomTemplatesService.mdx)            |
| The message input template used when editing a message      | `MessageComponent.messageInputTemplate`                         | [`CustomTemplatesService.messageInputTemplate$`](../services/CustomTemplatesService.mdx)            |
| The template used for displaying a mention inside a message | `MessageComponent.mentionTemplate`                              | [`CustomTemplatesService.mentionTemplate$`](../services/CustomTemplatesService.mdx)                 |
| The autocomplete list item template for mentioning users    | `MessageInputComponent.mentionAutocompleteItemTemplate`         | [`CustomTemplatesService.mentionAutocompleteItemTemplate$`](../services/CustomTemplatesService.mdx) |
| The autocomplete list item template for commands            | `MessageInputComponent.commandAutocompleteItemTemplate`         | [`CustomTemplatesService.commandAutocompleteItemTemplate$`](../services/CustomTemplatesService.mdx) |
| The template for emoji picker                               | `MessageInputComponent.emojiPickerTemplate$`                    | [`CustomTemplatesService.emojiPickerTemplate$`](../services/CustomTemplatesService.mdx)             |
| The template used to display a message in the message list  | `MessageListComponent.messageTemplate`                          | [`CustomTemplatesService.messageTemplate$ `](../services/CustomTemplatesService.mdx)                |
| The message input template used when editing a message      | `MessageListComponent.messageInputTemplate`                     | [`CustomTemplatesService.messageInputTemplate$`](../services/CustomTemplatesService.mdx)            |
| The template used for displaying a mention inside a message | `MessageListComponent.mentionTemplate`                          | [`CustomTemplatesService.mentionTemplate$`](../services/CustomTemplatesService.mdx)                 |
| The typing indicator template used in the message list      | `MessageListComponent.typingIndicatorTemplate`                  | [`CustomTemplatesService.typingIndicatorTemplate$`](../services/CustomTemplatesService.mdx)         |
| The typing indicator template used in the message list      | `MessageReactionsComponent.typingIndicatorTemplate`             | [`CustomTemplatesService.typingIndicatorTemplate$`](../services/CustomTemplatesService.mdx)         |
| The autocomplete list item template for commands            | `MessageInputConfigService.commandAutocompleteItemTemplate`     | [`CustomTemplatesService.commandAutocompleteItemTemplate$`](../services/CustomTemplatesService.mdx) |
| The autocomplete list item template for mentioning users    | `MessageInputConfigService.mentionAutocompleteItemTemplate`     | [`CustomTemplatesService.mentionAutocompleteItemTemplate$`](../services/CustomTemplatesService.mdx) |
| The template for emoji picker                               | `MessageInputConfigService.emojiPickerTemplate`                 | [`CustomTemplatesService.emojiPickerTemplate$`](../services/CustomTemplatesService.mdx)             |
| The template for channel actions                            | `ChannelHeaderComponent.channelActionsTemplate`                 | [`CustomTemplatesService.channelActionsTemplate$`](../services/CustomTemplatesService.mdx)          |

## `ChatClient.notification$` renamed to `events$`

The `notification$` stream on the [`ChatClientService`](../services/ChatClientService.mdx) was renamed to `events$` as it better represents what this Observable does.

The `events$` stream emits the received [client, notification and user presence events](https://getstream.io/chat/docs/javascript/event_object/?language=javascript).

The payload of this Observable was renamed from `Notification` to `ClientEvent`.

## Custom action names removed

Use our [permission framework](https://getstream.io/chat/docs/javascript/chat_permission_policies/?language=javascript&q=slow%20mode) to control the authorization of the following message actions:

| Custom action name | Channel capability   | Comment                                      |
| ------------------ | -------------------- | -------------------------------------------- |
| `quote`            | `quote-message`      |                                              |
| `pin`              | `pin-message`        | Currently turned off because not implemented |
| `flag`             | `flag-message`       |                                              |
| `edit`             | `update-own-message` |                                              |
| `edit-any`         | `update-any-message` |                                              |

The `mute` action is removed.
